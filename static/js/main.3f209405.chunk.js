(this["webpackJsonphero-builder-qictcn"]=this["webpackJsonphero-builder-qictcn"]||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),c=n.n(o),i=(n(62),n(63),n(40)),s=n.n(i),l=n(44),b=n(22),u=n(47),d=n(26),x=n(14),j=n.n(x),f=n(46),h={calcSkills:function(e,t,n){var r=e;r[n]=t;var a=[],o=0,c=0,i=0,s=r.reduce((function(e,t){return e+t}));if(s<100)a=r;else{var l=Object(f.a)(r);l.sort((function(e,t){return e-t}));var b=l.reduce((function(e,t){for(var n=r.indexOf(t),a=0;-1!==e.indexOf(n,a);)n=r.indexOf(t,n+1),a++;return e.push(n),e}),[]),u=l.indexOf(r[n]);n=u,a=[],o=s-100,c=0,i=0;var d=(r=l).reduce((function(e,t,r){return n!==r&&(t-=Math.floor(t/100*o)),e.push(t),c+=t,0!=t&&n!==r&&i++,e}),[]),x=c%100,j=Math.ceil(x/i)*(c>100?-1:1),h=Math.ceil(Math.abs(j)/i);d=d.reduce((function(e,t,r){if(0!==t&&n!==r&&h>0){var a=t+j;a<0&&(j+=Math.abs(a)),t+=j,x+=j,--i<1&&(t-=x)}return e.push(t),e}),[]),b.forEach((function(e,t){return a[e]=d[t]}))}return a}},m=n(96),p=n(100),g=n(103),O=n(101),v=n(99),k=n(102),y=n(2),C=Object(m.a)((function(){return{heroImage:{width:"auto",height:"200px",borderRadius:"10px",backgroundColor:"#fff"}}})),S=function(e){var t=C(),n=e.image,a=Object(r.useState)(!0),o=Object(b.a)(a,2),c=o[0],i=o[1];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{className:t.heroImage,src:c?"https://frontend-interview-hero-63u64o32qq-uk.a.run.app".concat(n):"".concat(window.location.origin,"/assets/defaultImg.png"),onError:function(){i(!1)}})})},T=Object(m.a)((function(){return Object(d.a)({heroItem:{backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},heroName:{width:"100%",padding:"10px",borderBottom:"1px solid #f76a03",marginBottom:"10px",backgroundColor:"#272b2b",fontFamily:"Exo",color:"#fff",overflow:"hidden"},heroNameTitle:{fontWeight:"bold",fontSize:"larger",padding:"10px",borderBottom:"1px solid #f76a03",marginBottom:"15px"},heroInfoWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"column"}},"@media only screen and (max-width : 768px)",{heroItem:{width:"100%"}})})),N=function(e){var t=T(),n=e.isSingleItem,r=e.skills,a=e.hero,o=r&&j.a.isObject(r)&&!j.a.isEmpty(r)?j.a.keys(r):[],c=Object(y.jsxs)("div",{onClick:function(){return e.onSelect(a)},style:{cursor:"pointer",testAlign:"center"},className:t.heroItem,children:[Object(y.jsx)("div",{className:t.heroName,children:a.name}),Object(y.jsx)(S,{image:a.image})]}),i=Object(y.jsx)("div",{className:t.heroItem,children:Object(y.jsxs)("div",{className:t.heroName,children:[Object(y.jsx)("div",{className:t.heroNameTitle,children:a.name}),Object(y.jsxs)("div",{className:t.heroInfoWrapper,children:[Object(y.jsx)("ul",{style:{listStyleType:"none",padding:"0px"},children:o.map((function(e,t){return Object(y.jsxs)("li",{children:[" ",Object(y.jsxs)("span",{style:{fontWeight:"bold"},children:[r[e],"% "]}),e]},t)}))}),Object(y.jsx)(S,{image:a.image})]})]})});return n?i:c},E=n(72),I=n(97),w=Object(m.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,border:"2px solid",borderColor:"#f76a03",borderRadius:"10px",transition:"background 0.5s, color 1s","&:hover":{backgroundColor:"#e8ecec"}}}})),D=function(e){var t=w(),n=e.selectedHeroIndex;return Object(y.jsx)("div",{className:t.root,children:Object(y.jsx)(I.a,{container:!0,spacing:3,children:e.heros.map((function(r,a){return Object(y.jsx)(I.a,{item:!0,xs:12,sm:12/e.heros.length,children:Object(y.jsx)(E.a,{style:{backgroundColor:a==n?"#f76a03":"#fff"},className:t.paper,children:Object(y.jsx)(N,{hero:r,isSingleItem:!1,onSelect:e.onSelect},a)})},a)}))})})},F=n(98),B=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},buttonWrapper:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},buttonClass:Object(d.a)({background:"#f76a03","&:hover":{background:"#ff8831"}},"@media only screen and (max-width : 768px)",{width:"100%"})}})),H=function(e){var t=B(),n=e.onClick,r=e.isDisabled,a=e.buttonText;return Object(y.jsx)("div",{className:t.buttonWrapper,children:Object(y.jsx)(F.a,{variant:"contained",disabled:r,className:t.buttonClass,onClick:n,children:a})})},R=Object(m.a)((function(e){return{tabTitleText:{fontFamily:"Exo",fontSize:"x-large",fontWeight:"800",color:"#fff"},tabErrorText:{fontFamily:"Exo",fontSize:"large",fontWeight:"bold",marginBottom:"20px",color:"red"}}})),W=function(e){var t=R(),n=e.tabError,r=e.tabText;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:t.tabTitleText,children:r}),Object(y.jsx)("span",{className:t.tabErrorText,children:n.length?Object(y.jsx)("span",{className:"tab-error-text",children:n}):""})]})},P=function(e){var t=e.selectedHeroIndex,n=e.tabIndex,r=e.nextButtonClick,a=e.tabText,o=e.tabError,c=e.isDisabled,i=e.buttonText;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{tabError:o,tabText:a}),Object(y.jsx)(D,{heros:e.heros,onSelect:e.onSelect,selectedHeroIndex:t}),Object(y.jsx)(H,{buttonText:i,isDisabled:c,onClick:function(){return r(n+1)}})]})},q=n(5),M=n(106),z=(n(104),Object(m.a)((function(e){return{root:{width:300+2*e.spacing(1),color:"#fff","& p":{fontFamily:"Exo"}},margin:{height:e.spacing(3)}}})));var L=Object(q.a)({root:{color:"#52af77",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)",color:"#181f1f"},track:{height:8,borderRadius:4,color:"#f76a03"},rail:{height:8,borderRadius:4,color:"#f76a03"}})(M.a),A=function(e){var t=z(),n=Object.keys(e.skills);return Object(y.jsx)("div",{className:t.root,children:n.map((function(t,n){return Object(y.jsxs)("div",{children:[Object(y.jsx)(v.a,{gutterBottom:!0,children:t}),Object(y.jsxs)(I.a,{container:!0,spacing:2,alignItems:"center",children:[Object(y.jsx)(I.a,{item:!0,xs:!0,children:Object(y.jsx)(L,{onChange:e.changeSkill,value:e.skills[t],"data-tag":t,valueLabelDisplay:"auto","aria-label":"Skills Slider",defaultValue:0})}),Object(y.jsx)(I.a,{item:!0,children:e.skills[t]})]})]},n)}))})},Y=function(e){var t=e.skills,n=e.onSelect,r=e.tabIndex,a=e.nextButtonClick,o=e.tabText,c=e.tabError,i=e.isDisabled,s=e.buttonText;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{tabError:c,tabText:o}),Object(y.jsx)(A,{changeSkill:n,skills:t}),Object(y.jsx)(H,{buttonText:s,isDisabled:i,onClick:function(){return a(r+1)}})]})},G=function(e){var t=e.tabText,n=e.tabError,r=e.tabData,a=r[0],o=r[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W,{tabError:n,tabText:t}),Object(y.jsx)(N,{hero:a,isSingleItem:!0,skills:o})]})},J=["children","value","index"],V=Object(m.a)((function(e){return Object(d.a)({root:{flexGrow:1,backgroundColor:e.palette.background.paper},tabsHeader:{backgroundColor:"#181f1f",color:"#f76a03"},tab:{fontFamily:"Exo",fontSize:"30px"},label:{backgroundColor:"#aa0",fontSize:"50px"},tabsPanel:{backgroundColor:"#425050"},centerBox:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},indicator:{backgroundColor:"#f76a03"}},"@media only screen and (max-width : 768px)",{tabsHeader:{position:"fixed"},centerBox:{marginTop:"64px"},tabsPanel:{height:"calc(100vh - 64px)",overflow:"auto"}})}));function $(e){var t=e.children,n=(e.value,e.index,Object(u.a)(e,J),V());return Object(y.jsx)(k.a,{className:n.tabsPanel,p:3,children:Object(y.jsx)(v.a,{component:"div",className:n.centerBox,children:t})})}var K={Constitution:0,Dexterity:0,Charisma:0,Strength:0};function Q(){var e=V(),t=Object(r.useState)(0),n=Object(b.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)([]),i=Object(b.a)(c,2),u=i[0],d=i[1],x=Object(r.useState)({}),f=Object(b.a)(x,2),m=f[0],v=f[1],k=Object(r.useState)(K),C=Object(b.a)(k,2),S=C[0],T=C[1],N=Object(r.useState)(""),E=Object(b.a)(N,2),I=E[0],w=E[1],D=j.a.isEmpty(S)?0:j.a.values(S).reduce((function(e,t){return e+t}));Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://frontend-interview-hero-63u64o32qq-uk.a.run.app/heroes");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,d(n.heroes);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var F=function(e,t){!j.a.isObject(e)&&Number.isInteger(e)&&(t=e);var n=H[t];switch(n.name){case"Heros":o(t),v({});break;case"Skills":if(j.a.isEmpty(m))w(n.tabError);else{var r=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].name]=0;return t}(m.skills);T(r),o(t),w("")}break;case"Result":!j.a.isEmpty(m)&&D>=4?(o(t),w("")):1==a&&w(n.tabError)}},B=function(e){F(e)},H=[{name:"Heros",tabDisplayName:"Class",available:!1,component:u.length?Object(y.jsx)(P,{heros:u,buttonText:"Next",tabText:"Create Your Hero!",tabIndex:a,isDisabled:j.a.isEmpty(m),onSelect:function(e){v(e),w("")},tabError:I,selectedHeroIndex:u.indexOf(m),nextButtonClick:B}):""},{name:"Skills",tabDisplayName:"Skills",available:!1,tabError:"Please select hero to continue",component:Object(y.jsx)(Y,{buttonText:"Finish",tabText:"Fine Tune Your Skills!",tabIndex:a,tabError:I,isDisabled:0===D,skills:S,onSelect:function(e,t){if(e.currentTarget.attributes&&e.currentTarget.attributes.length&&e.currentTarget.attributes["data-tag"]){var n=e.currentTarget.getAttribute("data-tag"),r=Object.keys(S).indexOf(n),a=Object.values(S),o=h.calcSkills(a,t,r);Object.keys(S).forEach((function(e,t){S[e]=o[t]}));var c=Object.assign({},S);c[n]=t,T(c)}},nextButtonClick:B})},{name:"Result",tabDisplayName:"Result",tabError:"Please select skill to continue",available:!1,component:Object(y.jsx)(G,{tabText:"Your Hero Is Ready!",tabData:[m,S],tabError:I})}];return Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(p.a,{position:"static",className:e.tabsHeader,children:Object(y.jsx)(g.a,{classes:{indicator:e.indicator},value:a,onChange:F,centered:!0,children:H.map((function(t,n){return Object(y.jsx)(O.a,{className:e.tab,label:t.tabDisplayName},n)}))})}),Object(y.jsx)($,{value:a,index:a,children:H[a].component})]})}var U=function(){return Object(y.jsx)("div",{className:"container",children:Object(y.jsx)(Q,{})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(U,{})}),document.getElementById("root")),X()}},[[70,1,2]]]);
//# sourceMappingURL=main.3f209405.chunk.js.map